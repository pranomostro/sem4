BEGIN NFA TO REGEX TRACE
Step 0
(f, f): ()|a|b
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): {}
(i, i): ()
(i, l1): b
(i, l2): {}
(i, u1): a
(i, u2): {}
(l1, f): {}
(l1, i): {}
(l1, l1): ()|b
(l1, l2): a
(l1, u1): {}
(l1, u2): {}
(l2, f): b
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b
(u1, u2): a
(u2, f): b
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 1
Processing state f
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): {}
(i, i): ()
(i, l1): b
(i, l2): {}
(i, u1): a
(i, u2): {}
(l1, f): {}
(l1, i): {}
(l1, l1): ()|b
(l1, l2): a
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b
(u1, u2): a
(u2, f): b|b(()|a|b)*(()|a|b)
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 2
Processing state i
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): {}
(i, i): ()
(i, l1): b
(i, l2): {}
(i, u1): a
(i, u2): {}
(l1, f): {}
(l1, i): {}
(l1, l1): ()|b
(l1, l2): a
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b
(u1, u2): a
(u2, f): b|b(()|a|b)*(()|a|b)
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 3
Processing state l1
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): {}
(i, i): ()
(i, l1): b|b(()|b)*(()|b)
(i, l2): b(()|b)*a
(i, u1): a
(i, u2): {}
(l1, f): {}
(l1, i): {}
(l1, l1): ()|b|(()|b)(()|b)*(()|b)
(l1, l2): a|(()|b)(()|b)*a
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b
(u1, u2): a
(u2, f): b|b(()|a|b)*(()|a|b)
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 4
Processing state l2
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): b(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))
(i, i): ()
(i, l1): b|b(()|b)*(()|b)
(i, l2): b(()|b)*a|b(()|b)*a(()|a)*(()|a)
(i, u1): a
(i, u2): {}
(l1, f): (a|(()|b)(()|b)*a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l1, i): {}
(l1, l1): ()|b|(()|b)(()|b)*(()|b)
(l1, l2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|a)*(()|a)
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)|(()|a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a|(()|a)(()|a)*(()|a)
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b
(u1, u2): a
(u2, f): b|b(()|a|b)*(()|a|b)
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 5
Processing state u1
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): b(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))
(i, i): ()
(i, l1): b|b(()|b)*(()|b)
(i, l2): b(()|b)*a|b(()|b)*a(()|a)*(()|a)
(i, u1): a|a(()|b)*(()|b)
(i, u2): a(()|b)*a
(l1, f): (a|(()|b)(()|b)*a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l1, i): {}
(l1, l1): ()|b|(()|b)(()|b)*(()|b)
(l1, l2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|a)*(()|a)
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)|(()|a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a|(()|a)(()|a)*(()|a)
(l2, u1): {}
(l2, u2): {}
(u1, f): {}
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b|(()|b)(()|b)*(()|b)
(u1, u2): a|(()|b)(()|b)*a
(u2, f): b|b(()|a|b)*(()|a|b)
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a

Step 6
Processing state u2
(f, f): ()|a|b|(()|a|b)(()|a|b)*(()|a|b)
(f, i): {}
(f, l1): {}
(f, l2): {}
(f, u1): {}
(f, u2): {}
(i, f): a(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))|b(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))
(i, i): ()
(i, l1): b|b(()|b)*(()|b)
(i, l2): b(()|b)*a|b(()|b)*a(()|a)*(()|a)
(i, u1): a|a(()|b)*(()|b)
(i, u2): a(()|b)*a|a(()|b)*a(()|a)*(()|a)
(l1, f): (a|(()|b)(()|b)*a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l1, i): {}
(l1, l1): ()|b|(()|b)(()|b)*(()|b)
(l1, l2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|a)*(()|a)
(l1, u1): {}
(l1, u2): {}
(l2, f): b|b(()|a|b)*(()|a|b)|(()|a)(()|a)*(b|b(()|a|b)*(()|a|b))
(l2, i): {}
(l2, l1): {}
(l2, l2): ()|a|(()|a)(()|a)*(()|a)
(l2, u1): {}
(l2, u2): {}
(u1, f): (a|(()|b)(()|b)*a)(()|a)*(b|b(()|a|b)*(()|a|b))
(u1, i): {}
(u1, l1): {}
(u1, l2): {}
(u1, u1): ()|b|(()|b)(()|b)*(()|b)
(u1, u2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|a)*(()|a)
(u2, f): b|b(()|a|b)*(()|a|b)|(()|a)(()|a)*(b|b(()|a|b)*(()|a|b))
(u2, i): {}
(u2, l1): {}
(u2, l2): {}
(u2, u1): {}
(u2, u2): ()|a|(()|a)(()|a)*(()|a)

Final result: a(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))|b(()|b)*a(()|a)*(b|b(()|a|b)*(()|a|b))
END NFA TO REGEX TRACE
