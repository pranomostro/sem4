BEGIN NFA TO REGEX TRACE
Step 0
(i, i): ()
(i, p1): a|b
(i, p2): {}
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a
(p1, p2): b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a
(p2, p2): ()|b
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a
(q2, q2): ()|b

Step 1
Processing state i
(i, i): ()
(i, p1): a|b
(i, p2): {}
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a
(p1, p2): b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a
(p2, p2): ()|b
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a
(q2, q2): ()|b

Step 2
Processing state p1
(i, i): ()
(i, p1): a|b|(a|b)(()|a)*(()|a)
(i, p2): (a|b)(()|a)*b
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a|(()|a)(()|a)*(()|a)
(p1, p2): b|(()|a)(()|a)*b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|a(()|a)*(()|a)
(p2, p2): ()|b|a(()|a)*b
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a
(q2, q2): ()|b

Step 3
Processing state p2
(i, i): ()
(i, p1): a|b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))|(a|b)(()|a)*(()|a)
(i, p2): (a|b)(()|a)*b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a|(()|a)(()|a)*(()|a)|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p1, p2): b|(()|a)(()|a)*b|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|a(()|a)*(()|a)|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p2, p2): ()|b|a(()|a)*b|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a
(q2, q2): ()|b

Step 4
Processing state q1
(i, i): ()
(i, p1): a|b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))|(a|b)(()|a)*(()|a)
(i, p2): (a|b)(()|a)*b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a|(()|a)(()|a)*(()|a)|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p1, p2): b|(()|a)(()|a)*b|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|a(()|a)*(()|a)|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p2, p2): ()|b|a(()|a)*b|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a|(()|a)(()|a)*(()|a)
(q1, q2): b|(()|a)(()|a)*b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|a(()|a)*(()|a)
(q2, q2): ()|b|a(()|a)*b

Step 5
Processing state q2
(i, i): ()
(i, p1): a|b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))|(a|b)(()|a)*(()|a)
(i, p2): (a|b)(()|a)*b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(i, q1): {}
(i, q2): {}
(p1, i): {}
(p1, p1): ()|a|(()|a)(()|a)*(()|a)|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p1, p2): b|(()|a)(()|a)*b|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|a(()|a)*(()|a)|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(p2, p2): ()|b|a(()|a)*b|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|a|(()|a)(()|a)*(()|a)|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(q1, q2): b|(()|a)(()|a)*b|(b|(()|a)(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|a(()|a)*(()|a)|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(a|a(()|a)*(()|a))
(q2, q2): ()|b|a(()|a)*b|(()|b|a(()|a)*b)(()|b|a(()|a)*b)*(()|b|a(()|a)*b)

Final result: (a|b)(()|a)*b|(a|b)(()|a)*b(()|b|a(()|a)*b)*(()|b|a(()|a)*b)
END NFA TO REGEX TRACE
