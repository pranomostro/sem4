BEGIN NFA TO REGEX TRACE
Step 0
(i, i): ()
(i, p1): a
(i, p2): {}
(i, q1): b
(i, q2): {}
(p1, i): {}
(p1, p1): ()
(p1, p2): a|b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b
(p2, p2): ()
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()
(q1, q2): a|b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b
(q2, q2): ()

Step 1
Processing state i
(i, i): ()
(i, p1): a
(i, p2): {}
(i, q1): b
(i, q2): {}
(p1, i): {}
(p1, p1): ()
(p1, p2): a|b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b
(p2, p2): ()
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()
(q1, q2): a|b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b
(q2, q2): ()

Step 2
Processing state p1
(i, i): ()
(i, p1): a
(i, p2): a(a|b)
(i, q1): b
(i, q2): {}
(p1, i): {}
(p1, p1): ()
(p1, p2): a|b
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b
(p2, p2): ()|(a|b)(a|b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()
(q1, q2): a|b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b
(q2, q2): ()

Step 3
Processing state p2
(i, i): ()
(i, p1): a|a(a|b)(()|(a|b)(a|b))*(a|b)
(i, p2): a(a|b)|a(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(i, q1): b
(i, q2): {}
(p1, i): {}
(p1, p1): ()|(a|b)(()|(a|b)(a|b))*(a|b)
(p1, p2): a|b|(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b|(()|(a|b)(a|b))(()|(a|b)(a|b))*(a|b)
(p2, p2): ()|(()|(a|b)(a|b))(()|(a|b)(a|b))*(()|(a|b)(a|b))|(a|b)(a|b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()
(q1, q2): a|b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b
(q2, q2): ()

Step 4
Processing state q1
(i, i): ()
(i, p1): a|a(a|b)(()|(a|b)(a|b))*(a|b)
(i, p2): a(a|b)|a(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(i, q1): b
(i, q2): b(a|b)
(p1, i): {}
(p1, p1): ()|(a|b)(()|(a|b)(a|b))*(a|b)
(p1, p2): a|b|(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b|(()|(a|b)(a|b))(()|(a|b)(a|b))*(a|b)
(p2, p2): ()|(()|(a|b)(a|b))(()|(a|b)(a|b))*(()|(a|b)(a|b))|(a|b)(a|b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()
(q1, q2): a|b
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b
(q2, q2): ()|(a|b)(a|b)

Step 5
Processing state q2
(i, i): ()
(i, p1): a|a(a|b)(()|(a|b)(a|b))*(a|b)
(i, p2): a(a|b)|a(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(i, q1): b|b(a|b)(()|(a|b)(a|b))*(a|b)
(i, q2): b(a|b)|b(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(p1, i): {}
(p1, p1): ()|(a|b)(()|(a|b)(a|b))*(a|b)
(p1, p2): a|b|(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(p1, q1): {}
(p1, q2): {}
(p2, i): {}
(p2, p1): a|b|(()|(a|b)(a|b))(()|(a|b)(a|b))*(a|b)
(p2, p2): ()|(()|(a|b)(a|b))(()|(a|b)(a|b))*(()|(a|b)(a|b))|(a|b)(a|b)
(p2, q1): {}
(p2, q2): {}
(q1, i): {}
(q1, p1): {}
(q1, p2): {}
(q1, q1): ()|(a|b)(()|(a|b)(a|b))*(a|b)
(q1, q2): a|b|(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
(q2, i): {}
(q2, p1): {}
(q2, p2): {}
(q2, q1): a|b|(()|(a|b)(a|b))(()|(a|b)(a|b))*(a|b)
(q2, q2): ()|(()|(a|b)(a|b))(()|(a|b)(a|b))*(()|(a|b)(a|b))|(a|b)(a|b)

Final result: a(a|b)|a(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))|b(a|b)|b(a|b)(()|(a|b)(a|b))*(()|(a|b)(a|b))
END NFA TO REGEX TRACE
