BEGIN NFA TO REGEX TRACE
Step 0
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a
(i, q2): b
(o1, i): {}
(o1, o1): ()|b
(o1, o2): a
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a
(o2, o2): ()|b
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b
(q2, q2): ()|a

Step 1
Processing state i
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a
(i, q2): b
(o1, i): {}
(o1, o1): ()|b
(o1, o2): a
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a
(o2, o2): ()|b
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b
(q2, q2): ()|a

Step 2
Processing state o1
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a
(i, q2): b
(o1, i): {}
(o1, o1): ()|b|(()|b)(()|b)*(()|b)
(o1, o2): a|(()|b)(()|b)*a
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a|a(()|b)*(()|b)
(o2, o2): ()|b|a(()|b)*a
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b
(q2, q2): ()|a

Step 3
Processing state o2
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a
(i, q2): b
(o1, i): {}
(o1, o1): ()|b|(()|b)(()|b)*(()|b)|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o1, o2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a|a(()|b)*(()|b)|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o2, o2): ()|b|a(()|b)*a|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a
(q1, q2): b
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b
(q2, q2): ()|a

Step 4
Processing state q1
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a|a(()|a)*(()|a)
(i, q2): b|a(()|a)*b
(o1, i): {}
(o1, o1): ()|b|(()|b)(()|b)*(()|b)|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o1, o2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a|a(()|b)*(()|b)|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o2, o2): ()|b|a(()|b)*a|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a|(()|a)(()|a)*(()|a)
(q1, q2): b|(()|a)(()|a)*b
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b|b(()|a)*(()|a)
(q2, q2): ()|a|b(()|a)*b

Step 5
Processing state q2
(i, i): ()
(i, o1): {}
(i, o2): {}
(i, q1): a|a(()|a)*(()|a)|(b|a(()|a)*b)(()|a|b(()|a)*b)*(b|b(()|a)*(()|a))
(i, q2): b|a(()|a)*b|(b|a(()|a)*b)(()|a|b(()|a)*b)*(()|a|b(()|a)*b)
(o1, i): {}
(o1, o1): ()|b|(()|b)(()|b)*(()|b)|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o1, o2): a|(()|b)(()|b)*a|(a|(()|b)(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o1, q1): {}
(o1, q2): {}
(o2, i): {}
(o2, o1): a|a(()|b)*(()|b)|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(a|a(()|b)*(()|b))
(o2, o2): ()|b|a(()|b)*a|(()|b|a(()|b)*a)(()|b|a(()|b)*a)*(()|b|a(()|b)*a)
(o2, q1): {}
(o2, q2): {}
(q1, i): {}
(q1, o1): {}
(q1, o2): {}
(q1, q1): ()|a|(()|a)(()|a)*(()|a)|(b|(()|a)(()|a)*b)(()|a|b(()|a)*b)*(b|b(()|a)*(()|a))
(q1, q2): b|(()|a)(()|a)*b|(b|(()|a)(()|a)*b)(()|a|b(()|a)*b)*(()|a|b(()|a)*b)
(q2, i): {}
(q2, o1): {}
(q2, o2): {}
(q2, q1): b|b(()|a)*(()|a)|(()|a|b(()|a)*b)(()|a|b(()|a)*b)*(b|b(()|a)*(()|a))
(q2, q2): ()|a|b(()|a)*b|(()|a|b(()|a)*b)(()|a|b(()|a)*b)*(()|a|b(()|a)*b)

Final result: a|b|a(()|a)*b|a(()|a)*(()|a)|(b|a(()|a)*b)(()|a|b(()|a)*b)*(()|a|b(()|a)*b)|(b|a(()|a)*b)(()|a|b(()|a)*b)*(b|b(()|a)*(()|a))
END NFA TO REGEX TRACE
